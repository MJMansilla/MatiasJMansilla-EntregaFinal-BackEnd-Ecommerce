<section>
  <h2>Carrito {{cart._id}}</h2>
  {{#if cart.products.length}}
    <ul class="list">
      {{#each cart.products}}
        <li class="list-item">
          <div>
            <strong>{{this.product.title}}</strong> — ${{this.product.price}} × {{this.quantity}}
            <div class="muted">Cat: {{this.product.category}} | {{#if this.product.status}}Disponible{{else}}No disponible{{/if}}</div>
          </div>
          <div class="row">
            <form class="inline-form" onsubmit="return updateQty(event, '{{../cart._id}}','{{this.product._id}}');">
              <input type="number" min="1" name="quantity" value="{{this.quantity}}"/>
              <button type="submit">Actualizar</button>
            </form>
            <button class="btn danger" onclick="removeFromCart('{{../cart._id}}','{{this.product._id}}')">Eliminar</button>
          </div>
        </li>
      {{/each}}
    </ul>
    <div class="row mt">
      <button class="btn danger" onclick="emptyCart('{{cart._id}}')">Vaciar carrito</button>
    </div>
  {{else}}
    <p>El carrito está vacío.</p>
  {{/if}}
</section>
<script src="/public/js/cart.js"></script>
